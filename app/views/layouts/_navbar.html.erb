<nav class="navbar navbar-expand-lg navbar-light bg-light">
  
<div class="collapse navbar-collapse" id="navbarTogglerDemo03">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    <li class="nav-item">
                      <%= link_to "Sandbox App", root_path, class: "navbar-brand" %>
                    </li>
              <% unless user_signed_in? %>
                    <li class="nav-item">
                    <%= link_to "Sign up", new_user_registration_path, class: "nav-link" %>
                    </li>
              <% end %>

                    <li class="nav-item">
                      <%= link_to "New task", new_task_path, class: "nav-link" %>
                    </li>

      </ul>
</div>


    <% if user_signed_in? %>
    <div class="dropdown">
      <button class="dropbtn" onclick="myFunction()"><img class="rounded-circle" height="50px" width="50px" src="http://digitalspyuk.cdnds.net/17/25/320x320/square-1498216547-avatar-neytiri.jpg">
      <i class="fa fa-caret-down"></i></button>
        <div id="myDropdown" class="dropdown-content">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li class="nav-item">
                    <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "nav-link" %>
                </li>
            </ul>
        </div>
       </div> 
              <% else %>
      <div class="dropdown">        
        <button class="dropbtn" onclick="myFunction()">Connexion <i class="fa fa-caret-down"></i></button>
        <div id="myDropdown" class="dropdown-content">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
             <li class="nav-item">
                       <button id="myBtn2" class="nav-link" >Login</button>
                     </li>
                     <li class="nav-item">
                       <button id="myBtn" class="nav-link" >Sign Up</button>
                     </li>
            </ul>
        </div>
       </div>          

          <% end %>
      <div id="myModal" class="modal">
          <!-- Modal content sign up-->
        <div class="modal-content">
            <span class="close">&times;</span>

            <h2>Inscription</h2>
            <form class="new_user" id="new_user" action="/users" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="QLjlP2Nj6wuKcbqVgvjlYuSboVTK6a1aMVs4r+daJ448lBwnleRfRNX0Gcp/e2Dt62KHKJW0u3EoOAHm4eXVqg==">
              

              <div class="field">
                <label for="user_email">Email</label><br>
                <input autofocus="autofocus" autocomplete="email" type="email" value="" name="user[email]" id="user_email">
              </div>

              <div class="field">
                <label for="user_password">Password</label>
                <em>(6 characters minimum)</em>
                <br>
                <input autocomplete="new-password" type="password" name="user[password]" id="user_password">
              </div>

              <div class="field">
                <label for="user_password_confirmation">Password confirmation</label><br>
                <input autocomplete="new-password" type="password" name="user[password_confirmation]" id="user_password_confirmation">
              </div>

              <div class="actions">
                <input type="submit" name="commit" value="Sign up" data-disable-with="Sign up">
              </div>
            </form>

        </div>
      </div>

  <div id="myModal2" class="modal">
      <!-- Modal content login-->
    <div class="modal-content">
      <span id="span2" class="close">&times;</span>
      <h2>Login</h2>
                    <form class="new_user" id="new_user" action="/users/sign_in" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="tait6IJqcIpNUocqwuRH+ycWScPjec8ku04R5Nh1m80RtuD7EigFzYso/ed3Lk5Kjnyz4/UygDq1UhWODCSj1g==">
                      <div class="field">
                        <label for="user_email">Email</label><br>
                        <input autofocus="autofocus" autocomplete="email" type="email" value="" name="user[email]" id="user_email">
                      </div>

                      <div class="field">
                        <label for="user_password">Password</label><br>
                        <input autocomplete="current-password" type="password" name="user[password]" id="user_password">
                      </div>

                        <div class="field">
                          <input name="user[remember_me]" type="hidden" value="0"><input type="checkbox" value="1" name="user[remember_me]" id="user_remember_me">
                          <label for="user_remember_me">Remember me</label>
                        </div>

                      <div class="actions">
                        <input type="submit" name="commit" value="Log in" data-disable-with="Log in">
                      </div>
                    </form>
    </div>
  </div>









</nav>















































<script>
// Get the modal
var modal = document.getElementById('myModal');
var modal2 = document.getElementById('myModal2');


// Get the button that opens the modal
var btn = document.getElementById("myBtn");
var btn2 = document.getElementById("myBtn2");



// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
    modal.style.display = "block";
}

btn2.onclick = function() {
    modal2.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

span2.onclick = function() {
    modal2.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}

window.onclick = function(event) {
    if (event.target == modal2) {
        modal2.style.display = "none";
    }
}

</script>